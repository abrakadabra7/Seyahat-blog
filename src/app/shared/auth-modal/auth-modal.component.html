<div class="modal-overlay" [class.show]="isVisible" (click)="closeModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <button class="close-btn" (click)="closeModal()">
      <span class="material-icons">close</span>
    </button>

    <!-- Error Message -->
    <div class="error-message" *ngIf="error">
      {{error}}
    </div>

    <div class="tabs">
      <button [class.active]="activeTab === 'login'" (click)="activeTab = 'login'">
        <span class="material-icons">login</span>
        Giriş Yap
      </button>
      <button [class.active]="activeTab === 'register'" (click)="activeTab = 'register'">
        <span class="material-icons">person_add</span>
        Kayıt Ol
      </button>
    </div>

    <div class="auth-container">
      <!-- Login Form -->
      <form class="auth-form" *ngIf="activeTab === 'login'" (ngSubmit)="handleLogin()">
        <div class="form-group">
          <label>Email</label>
          <input 
            type="email" 
            [(ngModel)]="loginForm.email" 
            name="email"
            placeholder="Email adresinizi girin"
            required>
        </div>
        <div class="form-group">
          <label>Şifre</label>
          <input 
            type="password" 
            [(ngModel)]="loginForm.password" 
            name="password"
            placeholder="Şifrenizi girin"
            required>
        </div>
        <button type="submit" class="submit-btn" [disabled]="loading">
          <span class="material-icons">login</span>
          {{loading ? 'Giriş Yapılıyor...' : 'Giriş Yap'}}
        </button>
      </form>

      <!-- Register Form -->
      <form class="auth-form" *ngIf="activeTab === 'register'" (ngSubmit)="handleRegister()">
        <div class="form-group">
          <label>Ad Soyad</label>
          <input 
            type="text" 
            [(ngModel)]="registerForm.fullName" 
            name="fullName"
            placeholder="Adınızı ve soyadınızı girin"
            required>
        </div>
        <div class="form-group">
          <label>Email</label>
          <input 
            type="email" 
            [(ngModel)]="registerForm.email" 
            name="email"
            placeholder="Email adresinizi girin"
            required>
        </div>
        <div class="form-group">
          <label>Şifre</label>
          <input 
            type="password" 
            [(ngModel)]="registerForm.password" 
            name="password"
            placeholder="Şifrenizi girin"
            required>
        </div>
        <div class="form-group">
          <label>Şifre Tekrar</label>
          <input 
            type="password" 
            [(ngModel)]="registerForm.confirmPassword" 
            name="confirmPassword"
            placeholder="Şifrenizi tekrar girin"
            required>
        </div>
        <button type="submit" class="submit-btn" [disabled]="loading">
          <span class="material-icons">person_add</span>
          {{loading ? 'Kayıt Yapılıyor...' : 'Kayıt Ol'}}
        </button>
      </form>
    </div>
  </div>
</div>
